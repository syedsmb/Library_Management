<div class="adding">
{% extends 'base.html' %}

{% block title %}Add Book{% endblock %}
{% csrf_token %}
{% block content %}
<h1>Add a New Book</h1>


{% if messages %}
<div class="messages">
    {% for message in messages %}
    <div class="message {{ message.tags }}"style="color: {% if message.tags == 'success' %}green{% else %}red{% endif %};">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}
<div class="syed">
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div>
        <label for="title">Title:</label>
        <input type="text" name="title" id="title" required>
    </div>
    <div>
        <label for="author">Author:</label>
        <input type="text" name="author" id="author" required>
    </div>
    <div>
        <label for="published_date">Published Date:</label>
        <input type="date" name="published_date" id="published_date">
    </div>
    <div>
        <label for="cover_image">Image:</label>
        <input type="file" name="cover_image" id="cover_image">
    </div>
    <div>
        <label for="available_copies">available copies:</label>
        <input type="number" name="available_copies" id="available_copies">
    </div>
    <div>
        <label for="price">Book Price:</label>
        <input type="number" name="price" id="price">
    </div>
    <label for="original_price">Original Price:</label>
    <input type="number" step="0.01" id="original_price" name="original_price" required><br>

    <label for="discounted_price">Discounted Price:</label>
    <input type="number" step="0.01" id="discounted_price" name="discounted_price" required><br>
    {{ form.as_p }}
    <button type="submit">Add Book</button>
</form>
</div>
{% if form.success %}
<div class="success-message">
    Book added successfully!
</div>

{% endif %}

{% if form.error %}
<div class="error-message">
    This book already exists!
</div>

{% endif %}

{% if messages %}
    {% for message in messages %}
        <div style="color: red;">{{ message }}</div>
    {% endfor %}
{% endif %}
{% endblock %}
</div>
